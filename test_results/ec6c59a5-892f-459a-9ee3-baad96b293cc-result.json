{"name": "test_happiness_assessment", "status": "failed", "statusDetails": {"message": "AssertionError: Response JSON doesn't have key 'runtime_data'", "trace": "self = <connect.test_happiness_assessment.TestAssessments object at 0x000002CC098964A0>\n\n    def test_happiness_assessment(self):\n        # GETTING CLIENT_ID FOR THE ENV\n        client_id_response = requests.get(\n            \"https://qa06-connect.stage-twill.health/assets/config/qa06-connect.stage-twill.health.json\")\n    \n        Assertions.assert_status_code(client_id_response, 200)\n        client_id = client_id_response.json()[\"client_id\"]\n    \n        # RESPONSE TO THE AUTH SERVER\n        response_to_auth = requests.post(f\"https://qa06-auth.stage-twill.health/api/public/auth/?client_id={client_id}\",\n                                         json={\"email\": \"shkorkin+qa06connect@alarstudios.com\",\n                                               \"password\": \"1234qwertY!\"}\n                                         )\n        Assertions.assert_status_code(response_to_auth, 200)\n        access_token = self.get_json_value(response_to_auth, \"access_token\")\n    \n        # GET SES COOKIE FROM /users/me/ ENDPOINT\n        response_user_me = ConnectRequests.send(\"GET\", f\"v1/users/me/?access_token={access_token}\")\n        Assertions.assert_status_code(response_user_me, 200)\n        ses_cookie = self.get_cookie(response_user_me, \"ses\")\n    \n        response_start_ha_dialog = ConnectRequests.send(\"GET\", \"v1/users/dialog/ha/\", cookies={\"ses\": ses_cookie})\n    \n        Assertions.assert_status_code(response_start_ha_dialog, 200)\n        Assertions.assert_json_has_key(response_start_ha_dialog, \"conversation_id\")\n        Assertions.assert_json_value_by_name(response_start_ha_dialog, \"dialog_type\", \"happiness_assessment\", \"Another type OR no type for the HA dialog\")\n    \n        conversation_id = self.get_json_value(response_start_ha_dialog, \"conversation_id\")\n        turn_number = self.get_json_value(response_start_ha_dialog, \"turn_number\")\n    \n        while True:\n            response_answers_ha = ConnectRequests.send(\"POST\",\n                \"v1/users/dialog/\",\n                json={\n                    \"conversation_id\": conversation_id,\n                    \"turn_number\": turn_number,\n                    \"client_input\": random.randint(1, 3),\n                },\n                cookies={\"ses\": ses_cookie},\n            )\n            if response_answers_ha.status_code != 200:\n                break\n        print(response_answers_ha.text)\n        print(response_answers_ha.json())\n>       ha_new_score = self.get_json_value(response_answers_ha, \"runtime_data\")\n\nconnect\\test_happiness_assessment.py:56: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <connect.test_happiness_assessment.TestAssessments object at 0x000002CC098964A0>, response = <Response [502]>, name = 'runtime_data'\n\n    def get_json_value(self, response: Response, name):\n        try:\n            response_as_dict = response.json()\n        except json.decoder.JSONDecodeError:\n            assert False, f'Response is not JSON format. Response text is {response.text}'\n>       assert name in response_as_dict, f\"Response JSON doesn't have key '{name}'\"\nE       AssertionError: Response JSON doesn't have key 'runtime_data'\n\nlibconnect\\base_case.py:22: AssertionError"}, "steps": [{"name": "GET request to URL 'https://qa06-connect.stage-twill.health/api/v1/users/me/?access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjbGllbnRfaWQiOiJnQUFBQUFCaXg5dE9jOWJyMGxfSFdZck5vdWxTYm5tNzZWRFlic09VM29NdVpDWDRzNS02LTlZcnJwTl85SHg5NFNDazVncnVZQWhWX3Fab0NOb0pBVHJtRERYMHZNcktxZz09Iiwic3ViIjoxNDQ2LCJleHAiOjE2NzQyMDY0MTl9.TZ9ulHbnmxWgTFaTtqA6wuKv_6bw16TVbiGk66O3SiM'", "status": "passed", "start": 1674206359388, "stop": 1674206359779}, {"name": "GET request to URL 'https://qa06-connect.stage-twill.health/api/v1/users/dialog/ha/'", "status": "passed", "start": 1674206359781, "stop": 1674206360248}, {"name": "POST request to URL 'https://qa06-connect.stage-twill.health/api/v1/users/dialog/'", "status": "passed", "start": 1674206360250, "stop": 1674206360539}, {"name": "POST request to URL 'https://qa06-connect.stage-twill.health/api/v1/users/dialog/'", "status": "passed", "start": 1674206360541, "stop": 1674206360830}, {"name": "POST request to URL 'https://qa06-connect.stage-twill.health/api/v1/users/dialog/'", "status": "passed", "start": 1674206360833, "stop": 1674206361136}, {"name": "POST request to URL 'https://qa06-connect.stage-twill.health/api/v1/users/dialog/'", "status": "passed", "start": 1674206361137, "stop": 1674206361395}, {"name": "POST request to URL 'https://qa06-connect.stage-twill.health/api/v1/users/dialog/'", "status": "passed", "start": 1674206361396, "stop": 1674206361676}, {"name": "POST request to URL 'https://qa06-connect.stage-twill.health/api/v1/users/dialog/'", "status": "passed", "start": 1674206361678, "stop": 1674206361951}, {"name": "POST request to URL 'https://qa06-connect.stage-twill.health/api/v1/users/dialog/'", "status": "passed", "start": 1674206361954, "stop": 1674206362225}, {"name": "POST request to URL 'https://qa06-connect.stage-twill.health/api/v1/users/dialog/'", "status": "passed", "start": 1674206362225, "stop": 1674206362544}, {"name": "POST request to URL 'https://qa06-connect.stage-twill.health/api/v1/users/dialog/'", "status": "passed", "start": 1674206362544, "stop": 1674206362824}, {"name": "POST request to URL 'https://qa06-connect.stage-twill.health/api/v1/users/dialog/'", "status": "passed", "start": 1674206362824, "stop": 1674206363105}, {"name": "POST request to URL 'https://qa06-connect.stage-twill.health/api/v1/users/dialog/'", "status": "passed", "start": 1674206363105, "stop": 1674206363387}, {"name": "POST request to URL 'https://qa06-connect.stage-twill.health/api/v1/users/dialog/'", "status": "passed", "start": 1674206363387, "stop": 1674206363668}, {"name": "POST request to URL 'https://qa06-connect.stage-twill.health/api/v1/users/dialog/'", "status": "passed", "start": 1674206363669, "stop": 1674206363959}, {"name": "POST request to URL 'https://qa06-connect.stage-twill.health/api/v1/users/dialog/'", "status": "passed", "start": 1674206363960, "stop": 1674206364271}, {"name": "POST request to URL 'https://qa06-connect.stage-twill.health/api/v1/users/dialog/'", "status": "passed", "start": 1674206364271, "stop": 1674206364566}, {"name": "POST request to URL 'https://qa06-connect.stage-twill.health/api/v1/users/dialog/'", "status": "passed", "start": 1674206364566, "stop": 1674206364848}, {"name": "POST request to URL 'https://qa06-connect.stage-twill.health/api/v1/users/dialog/'", "status": "passed", "start": 1674206364848, "stop": 1674206365127}, {"name": "POST request to URL 'https://qa06-connect.stage-twill.health/api/v1/users/dialog/'", "status": "passed", "start": 1674206365129, "stop": 1674206365414}, {"name": "POST request to URL 'https://qa06-connect.stage-twill.health/api/v1/users/dialog/'", "status": "passed", "start": 1674206365415, "stop": 1674206365748}, {"name": "POST request to URL 'https://qa06-connect.stage-twill.health/api/v1/users/dialog/'", "status": "passed", "start": 1674206365749, "stop": 1674206366022}], "start": 1674206358189, "stop": 1674206366023, "uuid": "9917ca17-9fa2-4d83-bf6c-1111f4930d46", "historyId": "3a40c18f8e1447fa9f279e3d3b028b1d", "testCaseId": "842ac35725f737ec40747a95ed0210dc", "fullName": "connect.test_happiness_assessment.TestAssessments#test_happiness_assessment", "labels": [{"name": "parentSuite", "value": "connect"}, {"name": "suite", "value": "test_happiness_assessment"}, {"name": "subSuite", "value": "TestAssessments"}, {"name": "host", "value": "DESKTOP-L0KFRAS"}, {"name": "thread", "value": "24944-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "connect.test_happiness_assessment"}]}